#include <Semaforo.h>
#FUSES NOWDT, NOMCLR

typedef enum {
    VERDE,
    AMARILLO,
    ROJO
} EstadoSemaforo;

void INITGPIO();

void main()
{
    INITGPIO();
    EstadoSemaforo estado = VERDE;

    while (TRUE) {
        switch (estado) {
            case VERDE:
                delay_ms(500);                 // 5 segundos
                estado = AMARILLO;
                break;

            case AMARILLO:            
                delay_ms(200);                 // 2 segundos
                estado = ROJO;
                break;

            case ROJO:
                delay_ms(500);                 // 5 segundos
                estado = VERDE;
                break;
        }
    }
}

void INITGPIO()
{
   set_tris_a(0b00111000);
}
